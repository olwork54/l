!function(){!function(e,t,s){s=s||window;var r=!1;s.addEventListener(e,function(){r||(r=!0,requestAnimationFrame(function(){s.dispatchEvent(new CustomEvent(t)),r=!1}))})}("resize","optimizedResize");const e={navElem:document.querySelector(".nav"),scrolledClass:"scrolled",stickMenuToggle(){600<=scrollY?this.navElem.classList.add(this.scrolledClass):this.navElem.classList.remove(this.scrolledClass),window.addEventListener("scroll",e=>{600<=scrollY?this.navElem.classList.add(this.scrolledClass):this.navElem.classList.remove(this.scrolledClass)})},mobileMenuToggle(){scrollY&&(this.mobileMenuOpenBtn.addEventListener("click",e=>{this.menu.classList.add("mobile-menu-open"),this.bodyElem.classList.add("overflow")}),this.mobileMenuCloseBtn.addEventListener("click",e=>{this.menu.classList.remove("mobile-menu-open"),this.bodyElem.classList.remove("overflow")})),this.navElem.addEventListener("click",e=>{"A"===e.target.tagName&&this.menu.classList.contains("mobile-menu-open")&&(this.menu.classList.remove("mobile-menu-open"),this.bodyElem.classList.remove("overflow"))})},init(){this.stickMenuToggle()}};new Swiper(".gallery-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"},breakpoints:{200:{slidesPerView:1,spaceBetween:8},640:{slidesPerView:2,spaceBetween:16},992:{slidesPerView:3,spaceBetween:16}}}),new Swiper(".review-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{200:{slidesPerView:1,spaceBetween:8},640:{slidesPerView:2,spaceBetween:16},992:{slidesPerView:3,spaceBetween:16}}});new class{constructor(e){this.form=document.querySelector(e.form),this.steps=this.form.querySelectorAll(e.steps),this.progress=document.querySelector(e.progress),this.applyBtnSelector=e.nextBtn,this.reg={email:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,name:/^([a-zA-Z]{1,}\s{0,}[a-zA-Z]{1,}'?-?[a-zA-Z]{1,}\s?([a-zA-Z]{1,})?)/},this.step=0,this.stepsAmount=this.steps.length,this.init()}closeModalWindow(){const e=document.querySelector(".main-content"),t=document.querySelector(".quiz.modal"),s=document.querySelector(".are-you-shure"),r=document.querySelector(".to-home-page"),i=this.form.querySelectorAll(".error-msg"),o=this.form.querySelectorAll(this.applyBtnSelector),n=this.form.querySelectorAll(".yes-btn, .no-btn"),a=this.form.querySelectorAll(".data-info"),l=this.form.querySelectorAll(".fancy-input");e.classList.remove("overflow"),t.classList.remove("show"),s.classList.remove("show"),r.classList.remove("show"),this.form.reset(),this.toStep(0),o.forEach(e=>{e.classList.remove("hide"),"disable"===e.dataset.state&&e.setAttribute("disabled","disabled")}),n.forEach(e=>e.classList.add("hide")),a.forEach(e=>e.innerText=""),i.forEach(e=>e.innerText=""),l.forEach(e=>e.classList.remove("error"))}toggleConfirmExitWindow(){const e=document.querySelector(".quiz.modal"),t=document.querySelector(".are-you-shure");t.classList.toggle("show"),e.classList.toggle("show")}openGoToHomeWindow(){const e=document.querySelector(".quiz.modal"),t=document.querySelector(".to-home-page");t.classList.add("show"),e.classList.remove("show")}toStep(e){this.step=e,this.steps.forEach((e,t)=>{t<this.step?(e.classList.remove("active","next"),e.classList.add("prev")):t===this.step?(e.classList.remove("prev","next"),e.classList.add("active")):(e.classList.remove("prev","active"),e.classList.add("next"))}),this.updateHeroMsg(this.steps[this.step]),this.progressUpdate()}progressUpdate(){this.progress.style.width=100/this.stepsAmount*(this.step+1)+"%"}nextStep(){this.step++,this.toStep(this.step)}validate(e){const t=e.querySelectorAll("input");let s=!1;return t.forEach(e=>{"phone"===e.name&&this.validateTel(e)&&(s=!0),("name"===e.name&&this.validateName(e)||"email"===e.name&&this.validateEmail(e))&&(s=!0)}),!s}validateEmail(e){const t=e.closest(".fancy-input"),s=t.querySelector(".error-msg");let r=!1,i="";return e.value?this.reg.email.test(e.value)||(r=!0,i="Enter valid email please"):(r=!0,i="Enter your email please"),r?t.classList.add("error"):t.classList.remove("error"),s.innerText=i,e.addEventListener("input",e=>{t.classList.remove("error"),s.innerText=""}),r}validateName(e){const t=e.closest(".fancy-input"),s=t.querySelector(".error-msg");let r=!1,i="";return e.value?e.value.trim().includes(" ")?this.reg.name.test(e.value)||(r=!0,i="Enter valid full name, only latter and space"):(r=!0,i="Enter valid full name: first name and last name"):(r=!0,i="Enter your full name please"),r?t.classList.add("error"):t.classList.remove("error"),s.innerText=i,e.addEventListener("input",e=>{t.classList.remove("error"),s.innerText=""}),r}validateTel(e){const t=e.closest(".fancy-input"),s=t.querySelector(".error-msg");let r=!1,i="";return e.value?e.value.length<14&&(r=!0,i="Enter valid phone number please"):(r=!0,i="Enter your phone number please"),r?t.classList.add("error"):t.classList.remove("error"),s.innerText=i,e.addEventListener("input",e=>{t.classList.remove("error"),s.innerText=""}),r}updateConfirmPhone(e){if(this.form.querySelector(".phone-confirm")){const t=this.form.querySelector(".phone-confirm");t.innerText=e}}updateHeroMsg(e){const t=document.querySelector("#hero-msg");e.dataset.info?t.innerText=e.dataset.info:t.innerText=""}submitForm(e){const t=e.querySelectorAll("input, select, button");fetch("api.php",{method:"POST",mode:"no-cors",body:new FormData(e)}).then(e=>{200===e.status&&(document.location.href="./success.html",this.enableFormInputs(t),this.closeModalWindow())})}enableFormInputs(e){e.forEach(e=>{e.removeAttribute("disabled")})}disableFormInputs(e){e.forEach(e=>{e.setAttribute("disabled",!0)})}init(){const e=this.form.querySelector(".change-phone"),t=document.querySelector(".close-modal-btn"),s=document.querySelector(".are-you-shure .exit"),r=document.querySelector(".to-home-page .exit"),i=document.querySelector(".are-you-shure .continue");function n(e){"Enter"!==e.key&&"Tab"!==e.key||e.preventDefault()}this.progressUpdate(),this.steps[this.step].classList.remove("prev","next"),this.steps[this.step].classList.add("active"),this.updateHeroMsg(this.steps[this.step]),this.steps.forEach(t=>{const s=t.querySelector(this.applyBtnSelector),r=t.querySelector(".yes-btn"),i=t.querySelector(".no-btn"),e=t.querySelectorAll("input"),o=t.querySelector(".data-info");e.forEach(t=>{"radio"===t.type?t.addEventListener("change",e=>{t.checked?s.removeAttribute("disabled"):s.setAttribute("disabled"),t.dataset.info?(o.innerText=t.dataset.info,r.classList.remove("hide"),i.classList.remove("hide"),s.classList.add("hide")):(o.innerText="",r.classList.add("hide"),i.classList.add("hide"),s.classList.remove("hide"))}):"phone"===t.name&&t.addEventListener("input",e=>{var t=e.target.value.replace(/\D/g,"").match(/(\d{0,3})(\d{0,3})(\d{0,4})/);e.target.value="("+t[1]+") "+t[2]+"-"+t[3],this.updateConfirmPhone(e.target.value)}),t.addEventListener("keydown",n)});try{i.addEventListener("click",e=>{e.preventDefault(),this.openGoToHomeWindow()}),i.addEventListener("keydown",n)}catch(e){}try{r.addEventListener("click",e=>{e.preventDefault(),this.validate(t)&&this.nextStep()}),r.addEventListener("keydown",n)}catch(e){}try{s.addEventListener("click",e=>{e.preventDefault(),this.validate(t)&&this.nextStep()}),s.addEventListener("keydown",n)}catch(e){}}),e.addEventListener("click",e=>{e.preventDefault(),this.toStep(this.step-1)}),t.addEventListener("click",e=>{this.toggleConfirmExitWindow()}),s.addEventListener("click",e=>{e.preventDefault(),this.closeModalWindow()}),r.addEventListener("click",e=>{e.preventDefault(),this.closeModalWindow()}),i.addEventListener("click",e=>{e.preventDefault(),this.toggleConfirmExitWindow()}),this.form.addEventListener("submit",e=>{e.preventDefault(),this.submitForm(this.form)})}}({form:"#step-form",steps:".step",progress:"#form-progress",nextBtn:".aplay-btn"});window.addEventListener("load",e=>{!function(){let e=document.getElementById("preloader");setTimeout(()=>{setTimeout(()=>{e.style.transition="visibility ease 0ms, opacity ease 0ms",e.classList.remove("show")},0)},0)}()}),function(){for(let t of document.querySelectorAll('a[href*="#"]'))t.addEventListener("click",function(e){e.preventDefault();e=t.getAttribute("href").substr(1);document.getElementById(e).scrollIntoView({behavior:"smooth",block:"start"})})}(),e.init(),function(){const e=document.querySelectorAll("input.zip-modal-open");e.forEach(t=>{const s=t.closest("form.enter-zip-code-wrap"),r=s.querySelector(".error-msg");s.addEventListener("submit",e=>{e.preventDefault(),5===t.value.length?(function(e){const t=document.querySelector(".main-content"),s=document.querySelector(".quiz.modal"),r=document.querySelector("input.zip-input");r.value=e,t.classList.add("overflow"),s.classList.add("show")}(t.value),s.reset()):r.innerText="Enter valid zip-code: 6 numbers"}),t.addEventListener("input",e=>{var t=e.target.value.replace(/\D/g,"").match(/(\d{0,5})/);e.target.value=t[1],5===e.target.value.length&&(r.innerText="")})})}()}();