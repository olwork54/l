"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _createForOfIteratorHelper(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,r=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){r=!0,s=e},f:function(){try{o||null==i.return||i.return()}finally{if(r)throw s}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}!function(){!function(e,t,i){i=i||window;var n=!1;i.addEventListener(e,function(){n||(n=!0,requestAnimationFrame(function(){i.dispatchEvent(new CustomEvent(t)),n=!1}))})}("resize","optimizedResize");var e={controlls:document.querySelectorAll(".lang-changer .lang"),currentLang:!!localStorage.getItem("userLang")&&localStorage.getItem("userLang"),changeLang:function(e){var t=this,i=(i=new URL(document.location).searchParams)&&"?".concat(i);e.dataset.lang!==this.currentLang&&(this.currentLang=e.dataset.lang,localStorage.setItem("userLang",this.currentLang),this.controlls.forEach(function(e){e.dataset.lang===t.currentLang?e.classList.add("active"):e.classList.remove("active")}),"ru-RU"===this.currentLang?window.location.assign("ru.html".concat(i)):(this.currentLang,window.location.assign("index.html".concat(i))))},init:function(){var t=this;"ru-RU"!==this.currentLang&&(this.currentLang="en-US"),this.controlls.forEach(function(e){e.dataset.lang===t.currentLang?e.classList.add("active"):e.classList.remove("active"),e.addEventListener("click",function(e){e.preventDefault(),t.changeLang(e.target)})})}};var t={bodyElem:document.querySelector("BODY"),policyModal:document.querySelector("#privacy-policy"),openBtn:document.querySelector("#policy-open"),closeBtn:document.querySelector("#policy-close-btn"),hideModalWindow:function(){this.bodyElem.classList.remove("overflow"),this.policyModal.classList.remove("show")},showModalWindow:function(){this.bodyElem.classList.add("overflow"),this.policyModal.classList.add("show")},init:function(){var t=this;this.openBtn.addEventListener("click",function(e){t.showModalWindow()}),this.closeBtn.addEventListener("click",function(e){t.hideModalWindow()})}},i={bodyElem:document.querySelector("BODY"),navElem:document.querySelector(".nav"),menu:document.querySelector("#menu"),mobileMenuOpenBtn:document.querySelector("#mobile-menu-open-btn"),mobileMenuCloseBtn:document.querySelector("#mobile-menu-close-btn"),scrolledClass:"scrolled",stickMenuToggle:function(){var t=this;10<=pageYOffset?this.navElem.classList.add(this.scrolledClass):this.navElem.classList.remove(this.scrolledClass),window.addEventListener("scroll",function(e){10<=pageYOffset?t.navElem.classList.add(t.scrolledClass):t.navElem.classList.remove(t.scrolledClass)})},mobileMenuToggle:function(){var t=this;this.mobileMenuOpenBtn.addEventListener("click",function(e){t.menu.classList.add("mobile-menu-open"),t.bodyElem.classList.add("overflow")}),this.mobileMenuCloseBtn.addEventListener("click",function(e){t.menu.classList.remove("mobile-menu-open"),t.bodyElem.classList.remove("overflow")}),this.navElem.addEventListener("click",function(e){"A"===e.target.tagName&&t.menu.classList.contains("mobile-menu-open")&&(t.menu.classList.remove("mobile-menu-open"),t.bodyElem.classList.remove("overflow"))})},init:function(){this.stickMenuToggle(),this.mobileMenuToggle()}},n=function(){function t(e){_classCallCheck(this,t),this.slider=document.querySelector(e.slider),this.slides=document.querySelectorAll(e.slides),this.btnNext=document.querySelector(e.btnNext),this.btnPrev=document.querySelector(e.btnPrev),this.indicator=document.querySelector(e.indicator),this.currSlide=e.currSlide||0,this.isСhangeSliderHeight=!!e.changeSliderHeight,this.init()}return _createClass(t,[{key:"changeSliderHeaight",value:function(e){var t=this;this.isСhangeSliderHeight&&("block"!==window.getComputedStyle(this.btnNext).display?this.slider.style.height="":this.slider.style.height=window.getComputedStyle(e,null).getPropertyValue("height"),window.addEventListener("optimizedResize",function(e){"block"!==window.getComputedStyle(t.btnNext).display&&(t.slider.style.height="")}))}},{key:"changeSlide",value:function(e){var t=0==+e?this.slides.length-1:+e-1,i=+e>=this.slides.length-1?0:+e+1;this.currSlide=+e,this.slides.forEach(function(e){e.classList.remove("prev","curr","next")}),this.slides[t].classList.add("prev"),this.slides[e].classList.add("curr"),this.slides[i].classList.add("next"),this.changeSliderHeaight(this.slides[e]),this.indicator.innerText="".concat(+e+1," / ").concat(this.slides.length)}},{key:"prevSlide",value:function(){var e=0===this.currSlide?this.slides.length-1:this.currSlide-1;this.changeSlide(e)}},{key:"nextSlide",value:function(){var e=this.currSlide>=this.slides.length-1?0:this.currSlide+1;this.changeSlide(e)}},{key:"init",value:function(){var t=this;this.changeSlide(this.currSlide),this.btnNext.addEventListener("click",function(e){return t.nextSlide()}),this.btnPrev.addEventListener("click",function(e){return t.prevSlide()}),this.slides.forEach(function(e){e.addEventListener("click",function(e){"block"===window.getComputedStyle(t.btnNext).display&&(e.currentTarget.classList.contains("next")?t.nextSlide():e.currentTarget.classList.contains("prev")&&t.prevSlide())})})}}]),t}(),s=function(){function t(e){_classCallCheck(this,t),this.acordeonElem=document.querySelector(e.acordeonSelector),this.items=document.querySelectorAll(e.itemsSelector),this.isProgressEnable=e.isProgressEnable||!1,this.isProgressCommon=e.isProgressCommon,this.progressSelector=e.progressSelector,this.progressStyleType=e.progressStyleType,this.isLoopEnable=e.loopEnable,this.time=e.time,this.pauseTime=e.pauseTime,this.isNeedChangeImg=e.isNeedChangeImg||!1,this.isNeedChangeHeight=e.isNeedChangeHeight||!1,this.imgSelector=e.imgSelector,this.currItem=e.currItem||0,this.loop=null,this.timeout=null,this.progressInterval=null,this.imgs=null,this.init()}return _createClass(t,[{key:"changeAcordeonHeight",value:function(){var t;this.isNeedChangeHeight&&(t="",this.items.forEach(function(e){e=window.getComputedStyle(e);t=+t+parseInt(e.height)+parseInt(e["margin-top"])}),this.acordeonElem.style.height=t+"px")}},{key:"isVisible",value:function(e){var t=window.pageYOffset+e.getBoundingClientRect().top,i=window.pageXOffset+e.getBoundingClientRect().left,n=window.pageXOffset+e.getBoundingClientRect().right,s=window.pageYOffset+e.getBoundingClientRect().bottom,o=window.pageYOffset,r=window.pageXOffset,l=window.pageXOffset+document.documentElement.clientWidth,e=window.pageYOffset+document.documentElement.clientHeight;return o<s&&t<e&&r<n&&i<l}},{key:"changeImg",value:function(e){this.isNeedChangeImg&&(this.imgs||(this.imgs=document.querySelectorAll(this.imgSelector)),this.imgs[this.currItem].classList.remove("active"),this.imgs[e].classList.add("active"))}},{key:"setActive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.time;this.items[this.currItem].classList.remove("active"),this.showProgress(this.items[e],t),this.changeImg(e),this.items[e].classList.add("active"),this.changeAcordeonHeight(),this.currItem=e}},{key:"startLoop",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.loop||(this.loop=setInterval(function(){null===t&&(t=e.currItem),t=e.currItem>=e.items.length-1?0:+e.currItem+1,e.setActive(t)},this.time),this.setActive(this.currItem))}},{key:"pauseLoop",value:function(){var e=this;this.timeout&&clearTimeout(this.timeout),clearInterval(this.loop),this.loop=null,this.timeout=setTimeout(function(){e.startLoop()},this.pauseTime)}},{key:"stopLoop",value:function(){this.timeout&&clearTimeout(this.timeout),clearInterval(this.loop),this.loop=null,this.clearProgress(this.items[this.currItem])}},{key:"clearProgress",value:function(e){this.isProgressEnable&&(this.progressInterval&&clearInterval(this.progressInterval),(this.isProgressCommon?document:e).querySelector(this.progressSelector).style[this.progressStyleType]="0%")}},{key:"showProgress",value:function(e,t){var i,n,s,o=this;this.isProgressEnable&&(this.progressInterval&&clearInterval(this.progressInterval),i=(this.isProgressCommon?document:e).querySelector(this.progressSelector),n=100/(t/40),s=0,this.progressInterval=setInterval(function(){100<=s&&(s=100),i.style[o.progressStyleType]=s+"%",s+=+n},40))}},{key:"init",value:function(){for(var t=this,e=0;e<this.items.length;e++){var i=this.items[e];i.dataset.id=e,i.addEventListener("click",function(e){t.pauseLoop(),t.setActive(e.currentTarget.dataset.id,t.pauseTime)})}this.isVisible(this.acordeonElem)?this.startLoop():this.stopLoop(),window.addEventListener("optimizedResize",function(e){t.changeAcordeonHeight()}),window.addEventListener("scroll",function(e){t.isVisible(t.acordeonElem)?t.startLoop():t.stopLoop()})}}]),t}();new n({slider:"#main-function .cards",slides:"#main-function .card",btnNext:"#main-function .controls .next",btnPrev:"#main-function .controls .prev",indicator:"#main-function .controls .indicator",changeSliderHeight:!0}),new s({acordeonSelector:"#appointment .appointment-list",itemsSelector:"#appointment .appointment-list .list-item",isProgressEnable:!1,loopEnable:"true",time:"4000",pauseTime:"8000"}),new s({acordeonSelector:"#solutions .solutions-list",itemsSelector:"#solutions .solutions-list .list-item",isProgressEnable:!0,isProgressCommon:!1,progressSelector:".progress",progressStyleType:"height",loopEnable:"true",time:"10000",pauseTime:"20000",isNeedChangeHeight:!0}),new s({acordeonSelector:"#interface .inteface-slider",itemsSelector:"#interface .inteface-slider .list-item",isProgressEnable:!0,isProgressCommon:!0,progressSelector:"#interface .progress",progressStyleType:"width",loopEnable:"true",time:"10000",pauseTime:"20000",isNeedChangeImg:!0,imgSelector:"#interface .screen-view img"});window.addEventListener("load",function(){var e=100,t=document.getElementById("preloader"),i=document.querySelector(".logo");setTimeout(function(){i.classList.remove("show"),setTimeout(function(){t.style.transition="visibility ease ".concat(e,"ms, opacity ease ").concat(e,"ms"),t.classList.remove("show")},e)},e)}),function(){var e,t=_createForOfIteratorHelper(document.querySelectorAll('a[href*="#"]'));try{for(t.s();!(e=t.n()).done;)!function(){var t=e.value;t.addEventListener("click",function(e){e.preventDefault();e=t.getAttribute("href").substr(1);document.getElementById(e).scrollIntoView({behavior:"smooth",block:"start"})})}()}catch(e){t.e(e)}finally{t.f()}}(),i.init(),t.init(),e.init()}();